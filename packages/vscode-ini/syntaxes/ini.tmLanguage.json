{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "INI",
  "scopeName": "source.ini",
  "patterns": [
    { "include": "#comment" },
    { "include": "#section" },
    { "include": "#property" }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.semicolon.ini",
          "match": "^\\s*;.*$"
        },
        {
          "name": "comment.line.number-sign.ini",
          "match": "^\\s*#.*$"
        }
      ]
    },
    "section": {
      "name": "meta.section.ini",
      "match": "^\\s*(\\[)([^\\]]*)(\\])\\s*$",
      "captures": {
        "1": { "name": "punctuation.definition.section.begin.ini" },
        "2": { "name": "entity.name.section.ini" },
        "3": { "name": "punctuation.definition.section.end.ini" }
      }
    },
    "property": {
      "name": "meta.property.ini",
      "match": "^\\s*([^=:\\s][^=:]*?)\\s*([=:])\\s*(.*)$",
      "captures": {
        "1": { "name": "variable.other.key.ini" },
        "2": { "name": "punctuation.separator.key-value.ini" },
        "3": {
          "name": "string.unquoted.value.ini",
          "patterns": [{ "include": "#value-patterns" }]
        }
      }
    },
    "value-patterns": {
      "patterns": [
        {
          "name": "constant.numeric.ini",
          "match": "\\b\\d+(\\.\\d+)?\\b"
        },
        {
          "name": "constant.language.boolean.true.ini",
          "match": "\\b(?i:true|yes|on|enabled)\\b"
        },
        {
          "name": "constant.language.boolean.false.ini",
          "match": "\\b(?i:false|no|off|disabled)\\b"
        },
        {
          "name": "string.quoted.double.ini",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.ini",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.single.ini",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.ini",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "variable.other.reference.ini",
          "match": "\\$\\{[^}]+\\}"
        },
        {
          "name": "variable.other.environment.ini",
          "match": "\\$[A-Za-z_][A-Za-z0-9_]*"
        },
        {
          "name": "variable.other.environment.windows.ini",
          "match": "%[^%]+%"
        },
        {
          "name": "comment.line.inline.ini",
          "match": "\\s+[;#].*$"
        }
      ]
    }
  }
}
